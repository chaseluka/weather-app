(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var o=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===o?new Date(t.getTime()):"number"==typeof t||"[object Number]"===o?new Date(t):("string"!=typeof t&&"[object String]"!==o||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}const c=(c,n)=>{const r=function(c){return e(1,arguments),t(1e3*o(c))}(c+n).toUTCString(),s=()=>{let e=parseInt(r.slice(17,20),10);return e>12?e-=12:0===e&&(e=12),e};return{getHour:s,getHourAndMinute:()=>{const e=r.slice(20,22);return"".concat(s(),":").concat(e)},getDay:()=>r.slice(0,3),timeIsAMOrPM:()=>{let e="";const t=parseInt(r.slice(17,20),10);return e=t>11&&t<=23?"PM":"AM",e}}};let n=!0,r=!1;const s=(()=>{const e=document.querySelector(".f"),t=document.querySelector(".c"),o=e=>Math.round(e-273.15),c=e=>Math.round(1.8*(e-273.15)+32);return{toCelcius:o,toFahrenheit:c,values:()=>({fahr:n,cels:r}),switchMetric:()=>{!0===n&&!1===r?(n=!1,r=!0,t.classList.add("selected"),e.classList.remove("selected")):(n=!0,r=!1,e.classList.add("selected"),t.classList.remove("selected"))},selectedMetric:e=>!0===n?c(e):o(e)}})(),a=e=>Math.round(2.236936*e),l=e=>{let t="";return t=e>11.25&&e<56.25?"NE":e>56.25&&e<101.25?"E":e>101.25&&e<146.25?"SE":e>146.25&&e<191.25?"S":e>191.25&&e<236.25?"SW":e>236.25&&e<281.25?"W":e>281.25&&e<326.25?"NW":"N",t},i={hourlyForecastDOMElements:(()=>{const e=document.querySelector(".hourly-forecast");for(let t=0;t<25;t+=1){const t=document.createElement("div");t.classList.add("hourly-forecast-item"),e.appendChild(t);const o=document.createElement("div");o.classList.add("time");const c=document.createElement("img"),n=document.createElement("div");n.classList.add("hourly-temp"),t.appendChild(o),t.appendChild(c),t.appendChild(n)}return document.querySelectorAll(".hourly-forecast-item")})(),weeklyForecastDOMElements:(()=>{const e=document.querySelector(".weekly-forecast");for(let t=0;t<8;t+=1){const t=document.createElement("div");t.classList.add("weekly-forecast-item"),e.appendChild(t);const o=document.createElement("div");o.classList.add("time");const c=document.createElement("img"),n=document.createElement("div");n.classList.add("weekly-temp"),t.appendChild(o),t.appendChild(c),t.appendChild(n)}return document.querySelectorAll(".weekly-forecast-item")})()},d=e=>{const t=((e,t,o,c,n,r,s,a,l,i,d,u,m,h)=>({temp:e,feelsLike:t,humidity:o,windSpeed:c,windDeg:n,weatherType:r,visibility:s,lat:a,lon:l,location:i,high:d,low:u,dt:m,tz:h}))(e.main.temp,e.main.feels_like,e.main.humidity,e.wind.speed,e.wind.deg,e.weather[0].description,e.visibility,e.coord.lat,e.coord.lon,e.name,e.main.temp_max,e.main.temp_min,e.dt,e.timezone);return(e=>({loadPage:()=>{document.querySelector(".weather-location").textContent="".concat(e.location),(()=>{const t=document.querySelector(".temp"),o=s.selectedMetric(e.temp);t.textContent="".concat(o,"°")})(),document.querySelector(".weather-description").textContent="".concat(e.weatherType),(()=>{const t=document.querySelector(".high-temp-temp"),o=s.selectedMetric(e.high);t.textContent="".concat(o,"°")})(),(()=>{const t=document.querySelector(".low-temp-temp"),o=s.selectedMetric(e.low);t.textContent="".concat(o,"°")})()}}))(t).loadPage(),(e=>({setupEnvironmentInfo:()=>{(()=>{const t=document.querySelector(".feels-like"),o=s.selectedMetric(e.feelsLike);t.textContent="".concat(o,"°")})(),document.querySelector(".humididty").textContent="".concat(e.humidity,"%"),(()=>{const t=document.querySelector(".visibility"),o=Math.round(e.visibility/1e3);t.textContent="".concat(o,"mi")})(),document.querySelector(".wind").textContent="".concat(a(e.windSpeed),"mph/").concat(l(e.windDeg))}}))(t).setupEnvironmentInfo(),{location:t}},u=e=>{const t=[];for(let o=0;o<25;o+=1){const c={dt:e.hourly[o].dt,tz:e.timezone_offset,temp:e.hourly[o].temp,weatherType:e.hourly[o].weather[0].description,weatherMain:e.hourly[o].weather[0].main};t.push(c)}return(e=>{const t=(e,t)=>{const o=c(e.dt,e.tz).getHour(),n=c(e.dt,e.tz).timeIsAMOrPM();t.children[0].textContent=o+n},o=(e,t)=>{const o=t.children[1],c=e.weatherMain;"Clouds"===c||"Rain"===c||"Drizzle"===c||"Thunderstorm"===c||"Snow"===c||"Clear"===c?"Clouds"===c&&"overcast clouds"!==e.weatherType?o.src="../src/images/".concat(e.weatherType,".svg"):"overcast clouds"===e.weatherType?o.src="../src/images/broken clouds.svg":o.src="../src/images/".concat(c,".svg"):o.src="../src/images/weather-tornado.svg"},n=(e,t)=>{const o=s.selectedMetric(e.temp);t.children[2].textContent="".concat(o,"°")};return{setupHourlyForecast:()=>{for(let c=0;c<25;c+=1)t(e[c],i.hourlyForecastDOMElements[c]),o(e[c],i.hourlyForecastDOMElements[c]),n(e[c],i.hourlyForecastDOMElements[c])}}})(t).setupHourlyForecast(),t},m=e=>{const t=[];for(let o=0;o<8;o+=1){const c={dt:e.daily[o].dt,tz:e.timezone_offset,temp:e.daily[o].temp.day,weatherType:e.daily[o].weather[0].description,weatherMain:e.daily[o].weather[0].main};t.push(c)}return(e=>{const t=(e,t)=>{const o=c(e.dt,e.tz).getDay();t.children[0].textContent=o},o=(e,t)=>{const o=t.children[1],c=e.weatherMain;"Clouds"===c||"Rain"===c||"Drizzle"===c||"Thunderstorm"===c||"Snow"===c||"Clear"===c?"Clouds"===c&&"overcast clouds"!==e.weatherType?o.src="../src/images/".concat(e.weatherType,".svg"):"overcast clouds"===e.weatherType?o.src="../src/images/broken clouds.svg":o.src="../src/images/".concat(c,".svg"):o.src="../src/images/weather-tornado.svg"},n=(e,t)=>{const o=s.selectedMetric(e.temp);t.children[2].textContent="".concat(o,"°")};return{setupWeeklyForecast:()=>{for(let c=0;c<8;c+=1)t(e[c],i.weeklyForecastDOMElements[c]),o(e[c],i.weeklyForecastDOMElements[c]),n(e[c],i.weeklyForecastDOMElements[c])}}})(t).setupWeeklyForecast(),t};async function h(e){try{const t=await fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&APPID=a7f58f1e1cb17ffc0eec81a814f77ec2"),{mode:"cors"}),o=await t.json();!async function(e,t){try{const o=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely&appid=a7f58f1e1cb17ffc0eec81a814f77ec2"),{mode:"cors"}),c=await o.json();u(c),m(c)}catch(e){document.querySelector(".error").style.display="block"}}(d(o).location.lat,d(o).location.lon)}catch(e){document.querySelector(".error").style.display="block"}}const y=document.getElementById("location"),p=document.getElementById("search"),w=document.querySelector(".f"),f=document.querySelector(".c");h("New York"),y.addEventListener("submit",(e=>{e.preventDefault(),h("".concat(p.value))})),p.addEventListener("focus",(()=>{document.querySelector(".error").style.display="none"})),w.addEventListener("click",(()=>{console.log(s.values().fahr),!0===s.values().cels&&(s.switchMetric(),console.log("hello"),h("".concat(p.value)))})),f.addEventListener("click",(()=>{console.log(s.values().fahr),!0===s.values().fahr&&(s.switchMetric(),console.log("hi"),h("".concat(p.value)))}))})();